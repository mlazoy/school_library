{% extends "base.html" %}

{% block title %} Statistic Output {% endblock %}

{% block content %}

<style>
  table {
      border-collapse: collapse;
      width: 100%;
  }
  th{
    background-color: #72d372;
  }
  th, td {
      text-align: left;
      padding: 8px;
      
  }
  tr:nth-child(even){background-color: #f5f5f5}
  </style>

<!-- Operation delayed_users -->
{% if operation == 'delayed_users' %}
<h2>Selected name is '{{delayed_user}}' and selected days delayed are '{{days_delayed}}'</h2>
<table class="styled-table">
  <h3> Members with at least one delayed borrowing now:</h3>
  <thead>
    <tr>
        <th>Name</th>
        <th>Username (id)</th>
        <th>Number of Delayed Books</th>
    </tr>
  </thead>
  <tbody>
    {% for record in records %}
    <tr class="active-row"> 
        <td>  {{record[0]}} </td>
        <td>  {{record[1]}} ({{record[2]}}) </td>
        <td>  {{record[3]}} </td>
    {% endfor %}
  </tbody>
</table>

<!-- Operation average_rating -->
{% elif operation == 'average_rating' %}
<h2>Selected name is '{{review_user}}' and selected category is '{{review_category}}'.</h2>
<table class="styled-table">
  <h3> Average rating per user and category:</h3>
  <thead>
    <tr>
        <th>Name</th>
        <th>Username (id)</th>
        <th>Category</th>
        <th>Average Rating</th>
    </tr>
  </thead>
  <tbody>
    {% for record in records %}
    <tr class="active-row"> 
        <td>  {{record[0]}} </td>
        <td>  {{record[1]}} ({{record[2]}}) </td>
        <td>  {{record[3]}} </td>
        <td>  {{record[4]}} </td>
    {% endfor %}
  </tbody>
</table>

{% endif %}


{% endblock %}